# 校园闲置物品交易系统 · 接口自动化测试框架

## 📌 项目简介
本项目是一个 **校园闲置物品交易系统**，主要面向在校学生，支持从商品发布到交易完成的一整套业务流程，包括 **二手商品的发布、浏览、下单、支付、留言、退款** 等功能。  
系统采用 **Django 全栈开发**，前后端未分离，基于 **B/S 架构** 实现，前端页面由 Django 模板 + Bootstrap 构建，少量交互通过 JavaScript 实现（如商品收藏等）。后端由 Django 统一负责路由、视图、ORM 数据交互、权限控制和表单处理，页面基本由后端渲染后直接返回 HTML。

在此基础上，我独立设计并实现了一套 **API 自动化测试框架**，覆盖核心模块的接口功能测试、异常测试和边界测试，最终形成了可用于 **持续集成（CI/CD）** 的完整自动化测试体系。

---

## 🚀 功能模块
系统整体功能较为完整，涵盖了以下模块：

- **用户模块**：注册、登录、个人中心、资料管理  
- **商品模块**：发布商品（标题、描述、分类、价格、图片）、商品浏览、收藏  
- **订单模块**：下单、支付、发货、确认收货、订单取消与退款  
- **消息模块**：留言评论、买卖双方私信聊天  
- **支付模块**：模拟支付流程与订单状态流转  
- **其他**：搜索、分类浏览、个人订单管理、消息中心  

---

## 🛠 技术栈
### 后端
- Django (MVC/ORM/表单处理/权限控制)
- SQLite/MySQL (数据库存储)

### 前端
- Django 模板引擎
- Bootstrap (页面样式)
- JavaScript (收藏等交互)

### 自动化测试框架
- **语言**: Python  
- **测试框架**: Pytest  
- **接口请求**: Requests  
- **数据驱动**: YAML + Excel  
- **报告生成**: Allure  
- **持续集成**: Jenkins / 邮件通知 / 钉钉推送  
- **Mock 服务**: Flask（模拟异常场景）

---

## 📂 项目结构
```

.
├── base/          # 基础工具类（请求封装、日志、断言等）
├── common/        # 公共方法（数据库、加密、反射机制等）
├── conf/          # 配置文件（环境、账号、路径等）
├── data/          # 测试数据（yaml/excel/sql）
├── logs/          # 日志文件
├── report/        # 测试报告输出目录（Allure）
├── testcase/      # 测试用例
│   ├── BusinessInterface/   # 复杂业务场景测试
│   ├── ProductManager/      # 商品相关接口
│   └── SingleInterface/     # 单接口测试
├── run.py         # 测试执行入口
└── conftest.py    # Pytest 配置

````

---

## 🔄 核心业务流程
1. 用户注册并登录系统  
2. 浏览商品分类或通过关键词搜索商品  
3. 发布商品：填写标题、描述、价格、上传图片  
4. 买卖双方通过留言/私信沟通，达成交易意向  
5. 买家下单 → 校验身份/库存 → 生成订单  
6. 买家支付 → 订单状态更新 → 卖家发货  
7. 买家确认收货 → 订单归档 → 交易完成  
8. 订单退款、取消、消息通知等辅助功能  

---

## 🧪 自动化测试框架设计
框架采用 **DDT（数据驱动测试）** 思想，整体划分为六层：

1. **数据层（data）**  
   - 存放 Excel/YAML 测试数据与数据库还原 SQL 脚本  
2. **用例层（testcase）**  
   - 编写具体业务用例，涵盖用户、商品、订单、支付等模块  
   - 按业务复杂度划分为：单接口 / 产品管理 / 业务流程  
3. **工具层（base + common）**  
   - 封装请求方法、断言、数据库操作、加密解密、日志记录等  
   - 支持动态路径、反射机制、单例模式、参数占位符替换  
4. **配置层（conf）**  
   - 集中管理环境信息、账号、路径、报告参数等  
5. **驱动层（run.py）**  
   - 主入口，一键执行测试任务  
6. **Mock 与报告层**  
   - Flask 搭建 Mock Server  
   - 测试完成后自动生成 Allure 报告  

---

## 📊 实施成果
- 整理并实现 **80+ API 测试用例**（功能、边界、异常场景全覆盖）  
- 构建可复用的 **接口自动化测试框架**，适配校园二手交易系统完整链路  
- 集成 **Jenkins 持续集成**，支持定时任务、自动报告生成与邮件/钉钉推送  
- 提升测试效率与稳定性，实现测试流程的自动化与标准化  

---

## ▶️ 使用方法
1. 克隆项目  
   ```bash
   git clone https://github.com/yourname/campus-trade-system.git
````

2. 安装依赖

   ```bash
   pip install -r requirements.txt
   ```
3. 执行测试

   ```bash
   python run.py
   ```
4. 生成并查看报告

   ```bash
   allure serve report/
   ```

---

## 📌 后续优化方向

* 增强并发与性能测试支持
* 引入更完善的接口文档生成工具
* 增加安全测试与权限校验用例

---

## 🙋‍♂️ 作者

本项目由 \[YourName] 独立开发与测试，欢迎交流与反馈。

```

---

要不要我帮你再加一个 **README 开头的效果图/流程图**（比如业务流程图或测试框架结构图），让别人一眼就理解你的项目？
```
